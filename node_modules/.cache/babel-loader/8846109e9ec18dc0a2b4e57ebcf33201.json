{"ast":null,"code":"import _toConsumableArray from\"C:/Users/sadek/Desktop/frontend/amazon_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/sadek/Desktop/frontend/amazon_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var intialState={user:null,basket:[]};//selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_BASKET\":return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\":var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"cant remove product(id:\".concat(action.id,\")as its not in the basket\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["C:/Users/sadek/Desktop/frontend/amazon_clone/src/reducer.js"],"names":["intialState","user","basket","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","index","findIndex","basketItem","id","newBasket","splice","warn"],"mappings":"6UAAA,MAAO,IAAMA,CAAAA,WAAW,CAAC,CACrBC,IAAI,CAAC,IADgB,CAErBC,MAAM,CAAC,EAFc,CAAlB,CAIP;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,CAACD,MAAD,QAC1BA,CAAAA,MAD0B,SAC1BA,MAD0B,iBAC1BA,MAAM,CAAEE,MAAR,CAAe,SAACC,MAAD,CAAQC,IAAR,QAAeA,CAAAA,IAAI,CAACC,KAAL,CAAYF,MAA3B,EAAf,CAAiD,CAAjD,CAD0B,EAArB,CAGP,GAAMG,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,KAAD,CAAOC,MAAP,CAAgB,CAC1BC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAOA,MAAM,CAACG,IAAd,EACI,IAAK,eAAL,CACI,sCACOJ,KADP,MAEIP,MAAM,8BAAKO,KAAK,CAACP,MAAX,GAAkBQ,MAAM,CAACJ,IAAzB,EAFV,GAIJ,IAAK,oBAAL,CACI,GAAMQ,CAAAA,KAAK,CAACL,KAAK,CAACP,MAAN,CAAaa,SAAb,CACR,SAACC,UAAD,QAAcA,CAAAA,UAAU,CAACC,EAAX,GAAgBP,MAAM,CAACO,EAArC,EADQ,CAAZ,CAGA,GAAIC,CAAAA,SAAS,oBAAKT,KAAK,CAACP,MAAX,CAAb,CACA,GAAGY,KAAK,EAAE,CAAV,CAAY,CACRI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAuB,CAAvB,EACH,CAFD,IAEK,CACDH,OAAO,CAACS,IAAR,kCAC8BV,MAAM,CAACO,EADrC,+BAGH,CACD,sCACOR,KADP,MAEIP,MAAM,CAACgB,SAFX,GAKJ,IAAK,UAAL,CACI,sCACOT,KADP,MAEIR,IAAI,CAACS,MAAM,CAACT,IAFhB,GAKJ,QACI,MAAOQ,CAAAA,KAAP,CA9BR,CAmCH,CArCD,CAsCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const intialState={\r\n    user:null,\r\n    basket:[],\r\n};\r\n//selector\r\nexport const getBasketTotal=(basket)=>\r\n  basket?.reduce((amount,item)=>item.price +amount,0);\r\n\r\nconst reducer=(state,action)=>{\r\n    console.log(action);\r\n    switch(action.type){\r\n        case \"ADD_TO_BASKET\":\r\n            return{\r\n                ...state,\r\n                basket:[...state.basket,action.item],\r\n            };\r\n        case \"REMOVE_FROM_BASKET\":\r\n            const index=state.basket.findIndex(\r\n                (basketItem)=>basketItem.id===action.id\r\n            );\r\n            let newBasket=[...state.basket];\r\n            if(index>=0){\r\n                newBasket.splice(index,1);\r\n            }else{\r\n                console.warn(\r\n                    `cant remove product(id:${action.id})as its not in the basket`\r\n                )\r\n            }\r\n            return {\r\n                ...state,\r\n                basket:newBasket\r\n            };\r\n            \r\n        case \"SET_USER\":\r\n            return{\r\n                ...state,\r\n                user:action.user\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n\r\n};\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}